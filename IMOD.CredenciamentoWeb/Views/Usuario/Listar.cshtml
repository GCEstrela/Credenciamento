@model IEnumerable<IMOD.CredenciamentoWeb.ViewModel.UsuarioViewModel>
@{
 
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="row">
    <div class="col-lg-12">
        <h1 class="page-header"></h1>
    </div>
    <!-- /.col-lg-12 -->
</div>
<!-- /.row -->
<div class="row">
    <div class="col-lg-12">

        <div class="row" style="margin-bottom: 10px">
            <div class="col-lg-offset-11 col-lg-1">
                @Ajax.ActionLink("Novo", "Novo", "Usuario", 
                        new AjaxOptions
                        {
                            HttpMethod = "GET",
                            UpdateTargetId = "dialog-modal",
                            InsertionMode = InsertionMode.Replace,
                            OnSuccess = "onShowModal('modal-page')"
                        }, new {@class = "btn btn-primary"})
            </div>
        </div>

        <div class="panel panel-default">
            <div class="panel-heading" style="font-family: 'Francois One', sans-serif;">
                Usuários
            </div>
            <!-- /.panel-heading -->
            <div class="panel-body">
                <div class="dataTable_wrapper">
                    <table class="table table-striped table-bordered table-hover" id="dataTables-example">
                        <thead>
                        <tr>
                            <th>Id</th>
                            <th>Usuário</th>
                            <th>E-mail</th>
                            <th>Endereço</th>
                            <td></td>
                        </tr>
                        </thead>
                        <tbody>

                        @{
                            if (Model != null)
                            {
                                foreach (var item in Model)
                                {
                                    <tr class="odd gradeX">
                                        <td>@item.IdUser</td>
                                        <td>@item.Nome</td>
                                        <td>@item.Email</td>
                                        <td>@item.Endereco</td>
                                        <td class="center">
                                            @*Link com Ajax*@

                                            @Ajax.ActionLink("Editar", "Editar", "Usuario",
                                                new {idUser = item.IdUser}
                                                ,
                                                new AjaxOptions
                                                {
                                                    HttpMethod = "GET",
                                                    UpdateTargetId = "dialog-modal",
                                                    InsertionMode = InsertionMode.Replace,
                                                    OnSuccess = "onShowModal('modal-page')"
                                                }, new {@class = "btn btn-success btn-xs"})

                                        </td>
                                    </tr>
                                }
                            }
                        }

                        </tbody>
                    </table>
                </div>

            </div>
            <div id="dialog-modal"></div>
            <!-- /.panel-body -->
        </div>

        <!-- /.panel -->
    </div>
    <!-- /.col-lg-12 -->

</div>