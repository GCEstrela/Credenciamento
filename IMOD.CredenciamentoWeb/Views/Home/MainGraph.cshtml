@{
    ViewBag.Title = "FlotCharts";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="row">
    <div class="col-lg-12">
        <h1 class="page-header">Painel de indicadores</h1>
    </div>
    <!-- /.col-lg-12 -->
</div>
<!-- /.row -->
<div class="row">


    <div class="col-lg-12">
        <div class="panel panel-default">
            <div class="panel-heading">
                Produtos mais vendidos
            </div>
            <!-- /.panel-heading -->
            <div class="panel-body">
                <div class="flot-chart">
                    <div class="flot-chart-content" id="flot-pie-chart"></div>
                </div>
            </div>
            <!-- /.panel-body -->
        </div>
        <!-- /.panel -->
    </div>


    <div class="col-lg-12">
        <div class="panel panel-default">
            <div class="panel-heading">
                Estoque
            </div>
            <!-- /.panel-heading -->
            <div class="panel-body">
                <div class="flot-chart">
                    <div class="flot-chart-content" id="morris-bar-chart"></div>
                </div>
            </div>
            <!-- /.panel-body -->
        </div>
        <!-- /.panel -->
    </div>    

    <div class="col-lg-12">
        <div class="panel panel-default">
            <div class="panel-heading">
                Flot Charts Usage
            </div>
            <!-- /.panel-heading -->
            <div class="panel-body">
                <p>
                    Flot is a pure JavaScript plotting library for jQuery, with a focus on simple usage, attractive looks, and interactive features. In SB Admin, we are using the most recent version of Flot along with a few plugins to enhance the user experience. The Flot plugins being used are the tooltip plugin for hoverable tooltips, and the resize plugin for fully responsive charts. The documentation for Flot Charts is available on their website, <a target="_blank" href="http://www.flotcharts.org/">http://www.flotcharts.org/</a>.
                </p>

            </div>
            <!-- /.panel-body -->
        </div>
        <!-- /.panel -->
    </div>
    <!-- /.col-lg-6 -->
</div>
<!-- /.row -->
<!-- Flot Charts JavaScript -->
<script src="@Url.Content("~/browser_components/flot/excanvas.min.js")"></script>
<script src="@Url.Content("~/browser_components/flot/jquery.flot.js")"></script>
<script src="@Url.Content("~/browser_components/flot/jquery.flot.pie.js")"></script>
<script src="@Url.Content("~/browser_components/flot/jquery.flot.resize.js")"></script>
<script src="@Url.Content("~/browser_components/flot/jquery.flot.time.js")"></script>
<script src="@Url.Content("~/browser_components/flot.tooltip/js/jquery.flot.tooltip.min.js")"></script>
<script src="@Url.Content("~/browser_components/morrisjs/morris.min.js")"></script>
@*<script src="@Url.Content("~/Scripts/flot-data.js")"></script>*@
<script language="javascript" type="text/javascript">

    $(function() {
        

        $.getJSON('@Url.RouteUrl(new {action = "ProdutosMaisVendidos", Controller = "Charts"})',
            function(json) {

                var data = JSON.parse(json);
                console.log(data);

                $.plot($("#flot-pie-chart"),
                    data,
                    {
                        series: {
                            pie: {
                                show: true,
                                label: {
                                    show: true
                                }
                            }
                        },
                        grid: {
                            hoverable: true
                        },
                        tooltip: true,
                        tooltipOpts: {
                            content: "%p.0%, %s", // show percentages, rounding to 2 decimal places
                            shifts: {
                                x: 20,
                                y: 0
                            },
                            defaultTheme: true
                        }
                    });

            });

        Morris.Bar({
            element: 'morris-bar-chart',
            data: [
                {
                    x: 'Jan 2018',
                    a: 100
                }, {
                    x: 'Fev 2018',
                    a: 75
                }, {
                    x: 'Mar 2018',
                    a: 50
                }, {
                    x: 'Abr 2018',
                    a: 75
                }, {
                    x: 'Mai 2018',
                    a: 50
                }, {
                    x: 'Jun 2018',
                    a: 75
                }, {
                    x: 'Jul 2018',
                    a: 100
                }, {
                    x: 'Agosto 2018',
                    a: 100
                }, {
                    x: 'Set 2018',
                    a: 100
                }, {
                    x: 'Out 2018',
                    a: 100
                }, {
                    x: 'Nov 2018',
                    a: 100
                }, {
                    x: 'Dev 2018',
                    a: 150
                }
            ],
            xkey: 'x',
            ykeys: ['a'],
            labels: ['Volume de vendas'],
            hideHover: 'auto',
            resize: false
        });

    });

</script>